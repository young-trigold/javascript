## 1. 简介

es6 提供了 class 语法结构便于我们声明一个“类”。但是 class 语法结构其实是对以往 es5 继承方式的封装。

下面是一个使用 es6 class 的例子。

```javascript
class Person {
  constructor(name, age) {
    this.name = 'trigold';
    this.age = 19;
  }

  eat() {
    console.log('吃饭...');
  }
}

class Developer extends Person{
  constructor(name, age, job) {
    super(..arguments);
    this.job = 'Web前端开发工程师';
  }

  work() {
    console.log('工作...');
  }
}
```

我们的目的是: 使用 es5 模拟出来上面的代码。

## 2. 寄生式组合继承

class 语法结构几乎是对寄生式组合继承的封装。下面我们使用寄生式组合继承先模拟一下。

```javascript
function Person(name, age) {
  this.name = name;
  this.age = age;
}

Person.prototype.eat = function () {
  console.log('吃饭...');
};

function Developer(name, age, job) {
  Person.apply(this, arguments);
  this.job = job;
}

var inherits = function (subtype, supertype) {
  subtype.prototype = Object.create(supertype.prototype);
  Object.defineProperty(subtype.prototype, 'constructor', {
    configurable: true,
    writable: true,
    value: subtype,
  });
};

inherits(Developer, Person);

Developer.prototype.work = function () {
  console.log('工作...');
};
```

## 3. 封装

使用立即调用函数和闭包进行封装。

```javascript
var inherits = function (subtype, supertype) {
  subtype.prototype = Object.create(supertype.prototype);
  Object.defineProperty(subtype.prototype, 'constructor', {
    configurable: true,
    writable: true,
    value: subtype,
  });
};

var Person = (function () {
  function Person(name, age) {
    this.name = name;
    this.age = age;
  }

  Person.prototype.eat = function () {
    console.log('吃饭...');
  };

  return Person;
})();

var Developer = (function () {
  function Developer(name, age, job) {
    Person.apply(this, arguments);
    this.job = job;
  }

  inherits(Developer, Person);

  Developer.prototype.work = function () {
    console.log('工作...');
  };

  return Developer;
})();
```
